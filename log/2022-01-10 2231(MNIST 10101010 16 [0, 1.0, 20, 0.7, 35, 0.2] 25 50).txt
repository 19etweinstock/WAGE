2022-01-10 2231
LR    = 1
bitsW = 16  # bit width of weights
bitsA = 16 # bit width of activations
bitsG = 16  # bit width of gradients
bitsE = 16 # bit width of errors

bitsR = 16  # bit width of randomizer

loops = 1
Epoch = 25
batchSize = 50

lr_schedule = [0, 1., 20, 0.7, 35, 0.2]

loadModel = None
# loadModel = '2021-12-03 1640(MNIST 1288 8 [0, 1.0, 20, 0.7, 35, 0.2] 50 50)'

[[0, 20, 35], [1.0, 1.0, 0.7, 0.2]]
Model: "lenet5"
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
qa (qa)                      multiple                  0         
_________________________________________________________________
qconv2d (qconv2d)            multiple                  150       
_________________________________________________________________
maxpool (maxpool)            multiple                  0         
_________________________________________________________________
qactivation (qactivation)    multiple                  0         
_________________________________________________________________
qconv2d_1 (qconv2d)          multiple                  1200      
_________________________________________________________________
maxpool_1 (maxpool)          multiple                  0         
_________________________________________________________________
qactivation_1 (qactivation)  multiple                  0         
_________________________________________________________________
reshape (reshape)            multiple                  0         
_________________________________________________________________
qfc (qfc)                    multiple                  15360     
_________________________________________________________________
qactivation_2 (qactivation)  multiple                  0         
_________________________________________________________________
qfc_1 (qfc)                  multiple                  10080     
_________________________________________________________________
qactivation_3 (qactivation)  multiple                  0         
_________________________________________________________________
qfc_2 (qfc)                  multiple                  840       
_________________________________________________________________
qsoftmax (qsoftmax)          multiple                  0         
=================================================================
Total params: 27,630
Trainable params: 27,630
Non-trainable params: 0
_________________________________________________________________
conv/qconv2d [5, 5, 1, 6] Scale: 1.0
conv/qconv2d_1 [5, 5, 6, 8] Scale: 1.0
fc/qfc [128, 120] Scale: 1.0
fc/qfc_1 [120, 84] Scale: 1.0
fc/qfc_2 [84, 10] Scale: 1.0
CONV: 1350 FC: 26280 TOTAL: 27630
Epoch 1/25
1200/1200 [==============================] - 10s 7ms/step - loss: 168.3579 - accuracy: 0.0987 - val_loss: 861.7344 - val_accuracy: 0.0980
Epoch 2/25
1200/1200 [==============================] - 8s 7ms/step - loss: 168.4500 - accuracy: 0.0987 - val_loss: 861.7344 - val_accuracy: 0.0980
Epoch 3/25
1200/1200 [==============================] - 8s 7ms/step - loss: 168.4500 - accuracy: 0.0987 - val_loss: 861.7344 - val_accuracy: 0.0980
Epoch 4/25
